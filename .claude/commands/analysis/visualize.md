# visualize

文脈に応じて適切な図解・可視化を自動生成します。入力内容を理解し、最適なASCII図で表現します。

## ワークフロー:

1. **コンテキスト理解**
   - 入力内容の意図と目的を理解
   - 必要な情報の抽出と整理
   - 関連する要素の特定

2. **最適な図解タイプの選択**
   - 内容に応じて以下から選択：
     - システム構成図、シーケンス図、データフロー図、クラス関係図
     - ER図、オブジェクト図、ツリー構造図
     - フローチャート、状態遷移図、アクティビティ図
     - 依存関係図、コンポーネント図、パッケージ図
     - API構成図、リクエスト/レスポンス図
     - 画面遷移図、ワイヤーフレーム
   - 複数の図解が適切な場合は組み合わせて提供

3. **図解生成**
   - ASCII文字での図表作成（ボックス、矢印、線）
   - 日本語での説明を併記
   - 処理の流れは上から下、左から右を基本
   - 重要な処理には番号を振って説明を追加

4. **出力と説明**
   - 生成した図解の表示
   - 図解の読み方・見方の説明
   - 追加情報や補足の提供

## 図解フォーマット例:

### システム構成図
```
┌─────────────────────────────────┐
│     Presentation Layer          │
├─────────────────────────────────┤
│     Application Layer           │
├─────────────────────────────────┤
│     Domain Layer                │
├─────────────────────────────────┤
│     Infrastructure Layer        │
└─────────────────────────────────┘
```

### シーケンス図
```
Actor    Component1    Component2    Component3
  │          │            │            │
  ├─────────►│            │            │
  │  request │            │            │
  │          ├───────────►│            │
  │          │   process  │            │
  │          │            ├───────────►│
  │          │            │   execute  │
  │          │            │◄───────────┤
  │          │◄───────────┤   result   │
  │◄─────────┤            │            │
  │ response │            │            │
```

### データフロー図
```
[Input] ──► (Process A) ──► [Transform] ──► (Process B) ──► [Output]
               │                                │
               ▼                                ▼
           [Storage A]                     [Storage B]
```

### クラス関係図
```
┌──────────────┐         ┌──────────────┐
│   ClassA     │◆───────►│   ClassB     │
├──────────────┤         ├──────────────┤
│ +method1()   │         │ +method2()   │
│ +method2()   │         └──────────────┘
└──────────────┘                △
                                 │ 継承
                         ┌──────────────┐
                         │   ClassC     │
                         ├──────────────┤
                         │ +method3()   │
                         └──────────────┘
```

## エラーハンドリング:
- 入力内容が不明確な場合は、複数の図解候補を提示
- 情報不足の場合は、追加情報を要求
- 複雑すぎる場合は、段階的に分割して図解
- 図解が大きくなりすぎる場合は、重要部分に絞って表示

## 使用例:

### 実装内容の可視化
```bash
claude /visualize "HandTrackingCollectionMethodの実装を説明"
# → 実装に関する適切な図解を自動生成
```

### データ構造の可視化
```bash
claude /visualize "ユーザーと投稿の関係"
# → データ関係を示す図解を自動生成
```

### 処理フローの可視化
```bash
claude /visualize "注文から配送までの流れ"
# → プロセスフローの図解を自動生成
```

### ファイル構造の可視化
```bash
claude /visualize "プロジェクトのディレクトリ構造"
# → ツリー構造図を自動生成
```

### 複合的な可視化
```bash
claude /visualize "認証システム全体の動作"
# → 複数の観点から総合的な図解を生成
```

$PROMPT の内容を理解し、最適な図解タイプを選択して、わかりやすいASCII図を生成します。